import{h as g}from"./index.86982a38.js";import{a as b,b as w,v as D}from"./el-table-column.ca16c6b6.js";import{E as y}from"./el-select.2980a52f.js";import{_ as m}from"./ConnectStatus.9546f35d.js";import{o as h,c as _,T as a,R as l,a as r,V as c,a1 as C,K as v}from"./vendor-vue.f93c5f70.js";import"./vendor-icon.ba586c0e.js";import"./vendor-lib.eecfbf85.js";/* empty css                */const $={name:"",components:{ConnectStatus:m},props:{list:{type:Array}},computed:{},data(){return{currentRow:null,dialogVisible:!1}},methods:{handleEditRow(s){this.currentRow=s,this.dialogVisible=!0},async handleDeleteClick(s){let t={id:s.id};const n=await this.$http.function(t);n.code==0?(this.$msg.success("\u64CD\u4F5C\u6210\u529F"),this.$emit("on-success")):this.$msg.error(n.msg)},async handleStatusChange(s){let t={id:s.id};const n=await this.$http.function(t);n.code==0?(this.$msg.success("\u64CD\u4F5C\u6210\u529F"),this.$emit("on-success")):this.$msg.error(n.msg)},handleUpdateSuccess(){this.$emit("on-success")}},created(){}};function k(s,t,n,f,i,p){const o=b,d=m,u=w;return h(),_("div",null,[a(u,{data:n.list,stripe:"",border:""},{default:l(()=>[a(o,{label:"ID",align:"center",prop:"id",width:"100"},{default:l(e=>[r("span",null,c(e.row.id||"-"),1)]),_:1}),a(o,{label:"\u5F00\u59CB\u65F6\u95F4","header-align":"center",align:"center",prop:"create_time"},{default:l(e=>[r("span",null,c(e.row.create_time||"-"),1)]),_:1}),a(o,{label:"\u7ED3\u675F\u65F6\u95F4","header-align":"center",align:"center",prop:"update_time"},{default:l(e=>[r("span",null,c(e.row.update_time||"-"),1)]),_:1}),a(o,{label:"\u6301\u7EED\u65F6\u95F4","header-align":"center",align:"center",prop:"total_time_label"},{default:l(e=>[r("span",null,c(e.row.total_time_label||"-"),1)]),_:1}),a(o,{label:"\u72B6\u6001","header-align":"center",align:"center",prop:"status",width:"60"},{default:l(e=>[a(d,{value:e.row.status},null,8,["value"])]),_:1}),a(o,{label:"\u9519\u8BEF\u4FE1\u606F","header-align":"center",align:"center",prop:"status"},{default:l(e=>[r("span",null,c(e.row.error_message||"-"),1)]),_:1})]),_:1},8,["data"])])}const S=g($,[["render",k]]),z={name:"log-scheduler-list",props:{},components:{DataTable:S},data(){return{list:[],total:0,page:1,size:20,keywords:"",loading:!0,dialogVisible:!1}},computed:{},methods:{resetData(){this.page=1,this.getData()},refreshData(){this.getData()},async getData(){this.loading=!0;let s={ticket:this.ticket,page:this.page,size:this.size,keywords:this.keywords};const t=await this.$http.getLogSchedulerList(s);t.code==0&&(this.list=t.data.list,this.total=t.data.total),this.loading=!1},handleAddRow(){this.dialogVisible=!0},handleAddSuccess(){this.resetData()}},created(){this.getData()}},x={class:"app-container"};function V(s,t,n,f,i,p){const o=C("DataTable"),d=y,u=D;return h(),_("div",x,[v(a(o,{list:i.list,onOnSuccess:p.resetData},null,8,["list","onOnSuccess"]),[[u,i.loading]]),a(d,{class:"mt-md justify-center",background:"",layout:"total, prev, pager, next",total:i.total,"page-size":i.size,"onUpdate:page-size":t[0]||(t[0]=e=>i.size=e),"current-page":i.page,"onUpdate:current-page":t[1]||(t[1]=e=>i.page=e),onCurrentChange:p.getData},null,8,["total","page-size","current-page","onCurrentChange"])])}const O=g(z,[["render",V]]);export{O as default};
