import{_ as d,s as c,E as _,a as f,b as h,c as g}from"./index.ac997403.js";import{o as w,c as b,T as t,R as r,a as u,U as y,al as V,aa as v,am as S,an as k}from"./vendor-vue.a66d0420.js";import"./element-icon.581ee24f.js";import"./vendor-lib.1edac35d.js";const x={name:"Login",props:{},components:{},data(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}},computed:{},methods:{async getData(){},onSubmit(){this.$refs.form.validate(e=>{if(e)this.confirmSubmit();else return!1})},async confirmSubmit(){const e=await this.$http.login({username:this.form.username,password:this.form.password});if(console.log(e),e.code==0){c(e.data.token),this.$msg.success("\u767B\u5F55\u6210\u529F");let o="/";this.$route.query.redirect&&(o=this.$route.query.redirect),this.$router.push({path:o})}}},created(){this.getData()}},E=e=>(S("data-v-5e777eed"),e=e(),k(),e),I={class:"login-container"},q=E(()=>u("h3",{class:"title"},"\u767B\u5F55",-1));function B(e,o,C,K,s,l){const n=_,m=f,i=h,p=g;return w(),b("div",I,[q,t(i,{class:"",ref:"form",model:s.form,rules:s.rules,"label-width":"auto"},{default:r(()=>[t(m,{label:"",prop:"username"},{default:r(()=>[t(n,{modelValue:s.form.username,"onUpdate:modelValue":o[0]||(o[0]=a=>s.form.username=a),"auto-complete":"off",placeholder:"\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1}),t(m,{label:"",prop:"password"},{default:r(()=>[t(n,{modelValue:s.form.password,"onUpdate:modelValue":o[1]||(o[1]=a=>s.form.password=a),type:"password","auto-complete":"off",placeholder:"\u5BC6\u7801",onKeypress:V(l.onSubmit,["enter"])},null,8,["modelValue","onKeypress"])]),_:1})]),_:1},8,["model","rules"]),u("div",null,[t(p,{class:"w-full",type:"primary",size:"large",onClick:y(l.onSubmit,["prevent"])},{default:r(()=>[v("\u767B \u5F55")]),_:1},8,["onClick"])])])}const D=d(x,[["render",B],["__scopeId","data-v-5e777eed"]]);export{D as default};
